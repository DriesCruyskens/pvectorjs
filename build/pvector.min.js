function PVector(v,y,z){if(arguments.length===1){return new PVector(v.x||0,v.y||0,v.z||0)}if(!(this instanceof PVector)){return new PVector(v||0,y||0,z||0)}this.x=v||0;this.y=y||0;this.z=z||0}PVector.fromAngle=(a)=>new PVector(Math.cos(a),Math.sin(a));PVector.random2D=()=>PVector.fromAngle(Math.random()*Math.PI*2);PVector.random3D=()=>{const a=Math.random()*Math.PI*2;const vz=Math.random()*2-1;const mult=Math.sqrt(1-vz*vz);const vx=mult*Math.cos(a);const vy=mult*Math.sin(a);return new PVector(vx,vy,vz)};PVector.angleBetween=(v1,v2)=>Math.acos(v1.dot(v2)/Math.sqrt(v1.magSq()*v2.magSq()));PVector.radians2degrees=(radians)=>radians*(180/Math.PI);PVector.degrees2radians=(d)=>d/(180/Math.PI);PVector.lerpVal=(a,b,a)=>a+(b-a)*a;PVector.prototype={clone:function(){return new PVector(this.x,this.y,this.z)},set:function(v,y,z){if(arguments.length===1){this.set(v.x||0,v.y||0,v.z||0)}else{this.x=v||0;this.y=y||0;this.z=z||0}return this},setX:function(v){if(typeof v==='number'){this.x=v}else{this.x=v.x}return this},setY:function(v){if(typeof v==='number'){this.y=v}else{this.y=v.y}return this},setZ:function(v){if(typeof v==='number'){this.z=v}else{this.z=v.z}return this},invert:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},invertX:function(){this.x*=-1;return this},invertY:function(){this.y*=-1;return this},invertZ:function(){this.z*=-1;return this},norm:function(){const m=this.magSq();if(m>0){this.div(Math.sqrt(m))}return this},setMag:function(v){if(v instanceof PVector){v=v.mag()}if(this.magSq()===0){return this.set(v,0,0)}this.norm();this.mult(v);return this},minMag:function(v){if(v instanceof PVector){v=v.mag()}if(this.magSq()<v*v){this.norm();this.mult(v)}return this},maxMag:function(v){if(v instanceof PVector){v=v.mag()}if(this.magSq()>v*v){this.norm();this.mult(v)}return this},clampMag:function(m,n){this.minMag(m);this.maxMag(n);return this},min:function(m){this.minX(m);this.minY(m);this.minZ(m);return this},minX:function(m){m=m.x||m;if(this.x<m){this.x=m}return this},minY:function(m){m=m.y||m;if(this.y<m){this.y=m}return this},minZ:function(m){m=m.z||m;if(this.z<m){this.z=m}return this},max:function(n){this.maxX(n);this.maxY(n);this.maxZ(n);return this},maxX:function(n){n=n.x||n;if(this.x>n){this.x=n}return this},maxY:function(n){n=n.y||n;if(this.y>n){this.y=n}return this},maxZ:function(n){n=n.z||n;if(this.z>n){this.z=n}return this},clamp:function(m,n){this.clampX(m,n);this.clampY(m,n);this.clampZ(m,n);return this},clampX:function(m,n){m=m.x||m;n=n.x||n;if(this.x<m){this.x=m}else if(this.x>n){this.x=n}return this},clampY:function(m,n){m=m.y||m;n=n.y||n;if(this.y<m){this.y=m}else if(this.y>n){this.y=n}return this},clampZ:function(m,n){m=m.z||m;n=n.z||n;if(this.z<m){this.z=m}else if(this.z>n){this.z=n}return this},rotateTo:function(a){const mag=this.mag();this.x=Math.cos(a)*mag;this.y=Math.sin(a)*mag;return this},rotateBy:function(a){a+=this.angle2D();return this.rotateTo(a)},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},toFixed:function(p){if(typeof p==='undefined'){p=8}this.x=parseFloat(this.x.toFixed(p));this.y=parseFloat(this.y.toFixed(p));this.z=parseFloat(this.z.toFixed(p));return this},zero:function(){this.x=this.y=this.z=0;return this},add:function(v){this.addX(v);this.addY(v);this.addZ(v);return this},addX:function(v){if(typeof v==='number'){this.x+=v}else{this.x+=v.x}return this},addY:function(v){if(typeof v==='number'){this.y+=v}else{this.y+=v.y}return this},addZ:function(v){if(typeof v==='number'){this.z+=v}else{this.z+=v.z}return this},sub:function(v){this.subX(v);this.subY(v);this.subZ(v);return this},subX:function(v){if(typeof v==='number'){this.x-=v}else{this.x-=v.x}return this},subY:function(v){if(typeof v==='number'){this.y-=v}else{this.y-=v.y}return this},subZ:function(v){if(typeof v==='number'){this.z-=v}else{this.z-=v.z}return this},mult:function(v){this.multX(v);this.multY(v);this.multZ(v);return this},multX:function(v){if(typeof v==='number'){this.x*=v}else{this.x*=v.x}return this},multY:function(v){if(typeof v==='number'){this.y*=v}else{this.y*=v.y}return this},multZ:function(v){if(typeof v==='number'){this.z*=v}else{this.z*=v.z}return this},div:function(v){this.divX(v);this.divY(v);this.divZ(v);return this},divX:function(v){if(typeof v==='number'){this.x/=v}else{this.x/=v.x}return this},divY:function(v){if(typeof v==='number'){this.y/=v}else{this.y/=v.y}return this},divZ:function(v){if(typeof v==='number'){this.z/=v}else{this.z/=v.z}return this},lerp:function(v,a){this.lerpX(v,a);this.lerpY(v,a);this.lerpZ(v,a);return this},lerpX:function(v,a){if(typeof v==='number'){this.x=PVector.lerpVal(this.x,v,a)}else{this.x=PVector.lerpVal(this.x,v.x,a)}return this},lerpY:function(v,a){if(typeof v==='number'){this.y=PVector.lerpVal(this.y,v,a)}else{this.y=PVector.lerpVal(this.y,v.y,a)}return this},lerpZ:function(v,a){if(typeof v==='number'){this.z=PVector.lerpVal(this.z,v,a)}else{this.z=PVector.lerpVal(this.z,v.z,a)}return this},cross:function(v){this.x=this.y*v.z-v.y*this.z;this.y=this.z*v.x-v.z*this.x;this.z=this.x*v.y-v.x*this.y;return this},projectOnto:function(v){const coeff=((this.x*v.x)+(this.y*v.y)+(this.z*v.z))/((v.x**2)+(v.y**2)+(v.z**2));this.x=coeff*v.x;this.y=coeff*v.y;this.z=coeff*v.z;return this},func:function(f){f(this);return this},mag:function(){if(arguments[0]){return this.setMag(arguments[0])}return Math.sqrt(this.magSq())},magSq:function(){return this.x**2+this.y**2+this.z**2},dist:function(v){return Math.sqrt(this.distSq(v))},distX:function(v){return v.x-this.x},distY:function(v){return v.y-this.y},distZ:function(v){return v.z-this.z},distSq:function(v){return this.distX(v)**2+this.distY(v)**2},manhattanDist:function(v){return this.distX(v)+this.distY(v)+this.distZ(v)},angle2D:function(){if(arguments[0]){return this.rotateTo(arguments[0])}return Math.atan2(this.y,this.x)},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z},isZero:function(){return this.magSq()<1e-8},isEqual:function(v){return this.x===v.x&&this.y===v.y&&this.z===v.z},toString:function(){return "{ x: "+this.x+", y: "+this.y+", z: "+this.z+" }"},toObject:function(){return{x:this.x,y:this.y,z:this.z}},toArray:function(){return[this.x,this.y,this.z]}};function createPVectorMethod(m){return function(v1,...args){const v=v1.clone();v[m](...args);return v}}for(let m in PVector.prototype){if(PVector.prototype.hasOwnProperty(m)&&!PVector.hasOwnProperty(m)){PVector[m]=createPVectorMethod(m)}};exports=module.exports=PVector;